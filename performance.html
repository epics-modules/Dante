<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Performance &mdash; EPICS support for Dante X-ray spectrometers</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/my_theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="IOC startup script" href="ioc_startup_script.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Dante
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="system_controls.html">System controls</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_parameters.html">Configuration parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_time_statistics.html">Run-time statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="medm_screens.html">medm screens</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_element_systems.html">Multi-element systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="mca_mode.html">MCA mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="mca_mapping_mode.html">MCA mapping mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_mode.html">List mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="adc_trace_waveforms.html">ADC trace waveforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="ioc_startup_script.html">IOC startup script</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Performance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dante8-free-running-mapping-mode">Dante8 free-running mapping mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dante8-externally-triggered-mapping-mode">Dante8 externally triggered mapping mode</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Dante</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Performance</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/performance.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="performance">
<h1>Performance<a class="headerlink" href="#performance" title="Permalink to this heading"></a></h1>
<section id="dante8-free-running-mapping-mode">
<h2>Dante8 free-running mapping mode<a class="headerlink" href="#dante8-free-running-mapping-mode" title="Permalink to this heading"></a></h2>
<p>The following table shows the maximum number of pixels/s for MCA mapping mode as a function of the number of boards enabled
and the number of MCA channels on the Dante8. The tests were done under the following conditions:</p>
<ul class="simple">
<li><p>MappingPoints = 2000</p></li>
<li><p>PollTime = 0.01</p></li>
<li><p>ArrayCallbacks = Enable</p></li>
<li><p>WaitForPlugins = Yes</p></li>
<li><p>TriggerMode = FreeRunning</p></li>
</ul>
<p>The PresetReal time was decreased in 1 ms steps until the mapping mode acquisition no longer collected the requested number of pixels.</p>
<p>The PresetReal time on the Dante is limited to multiples of 1 ms,
so the pixel rate in FreeRun mode is limited to 1000, 500, 333, 250, etc.</p>
<table class="table-bordered table-striped table-hover docutils align-default" id="id1">
<caption><span class="caption-text">Maximum pixel rate in Hz (spectra/board/second) for TriggerMode=FreeRunning</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>MCA Channels</p></th>
<th class="head"><p>1 board  enabled</p></th>
<th class="head"><p>2 boards enabled</p></th>
<th class="head"><p>4 boards enabled</p></th>
<th class="head"><p>8 boards enabled</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1024</p></td>
<td><p>1000</p></td>
<td><p>1000</p></td>
<td><p>1000</p></td>
<td><p>500</p></td>
</tr>
<tr class="row-odd"><td><p>2048</p></td>
<td><p>1000</p></td>
<td><p>1000</p></td>
<td><p>500</p></td>
<td><p>333</p></td>
</tr>
<tr class="row-even"><td><p>4096</p></td>
<td><p>1000</p></td>
<td><p>1000</p></td>
<td><p>1000</p></td>
<td><p>1000</p></td>
</tr>
</tbody>
</table>
</section>
<section id="dante8-externally-triggered-mapping-mode">
<h2>Dante8 externally triggered mapping mode<a class="headerlink" href="#dante8-externally-triggered-mapping-mode" title="Permalink to this heading"></a></h2>
<p>The following table shows the maximum number of pixels/s for MCA mapping mode as a function of the number of boards enabled
and the number of MCA channels on the Dante8. The tests were done under the following conditions:</p>
<ul class="simple">
<li><p>MappingPoints = 2000</p></li>
<li><p>PollTime = 0.01</p></li>
<li><p>ArrayCallbacks = Enable</p></li>
<li><p>WaitForPlugins = Yes</p></li>
<li><p>TriggerMode = Trig Rising</p></li>
<li><p>PresetReal = 0.1 (does not matter)</p></li>
</ul>
<p>The Dante8 was triggered by an external programmable pulse generator.  The pulse width was 10 microseconds.
The pulse generator was programmed to output 2000 pulses.</p>
<p>The pulse frequency was increased until the mapping mode acquisition no longer collected the requested number of pixels.</p>
<table class="table-bordered table-striped table-hover docutils align-default" id="id2">
<caption><span class="caption-text">Maximum pixel rate in Hz (spectra/board/second) for TriggerMode=Trig Rising</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>MCA Channels</p></th>
<th class="head"><p>1 board  enabled</p></th>
<th class="head"><p>2 boards enabled</p></th>
<th class="head"><p>4 boards enabled</p></th>
<th class="head"><p>8 boards enabled</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1024</p></td>
<td><p>6200</p></td>
<td><p>2300</p></td>
<td><p>900</p></td>
<td><p>350</p></td>
</tr>
<tr class="row-odd"><td><p>2048</p></td>
<td><p>1500</p></td>
<td><p>750</p></td>
<td><p>340</p></td>
<td><p>150</p></td>
</tr>
<tr class="row-even"><td><p>4096</p></td>
<td><p>8060</p></td>
<td><p>8060</p></td>
<td><p>8060</p></td>
<td><p>8060</p></td>
</tr>
</tbody>
</table>
<p>The same results as above were obtained for TriggerMode=Gate High.</p>
<p>In 4096 channel mode all spectra are eventually collected for trigger frequencies up to 8000 Hz.
However, in 2048 and 1024 channel mode the maximum trigger frequency is much less before spectra are lost,
and the EPICS IOC needs to be restarted.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ioc_startup_script.html" class="btn btn-neutral float-left" title="IOC startup script" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Mark Rivers.
      <span class="lastupdated">Last updated on 2023-March-03.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>